# BigNewsCardComponent Documentation

[Linked Table of Contents](#table-of-contents)

## Table of Contents

* [1. Overview](#1-overview)
* [2. Component Inputs](#2-component-inputs)
* [3. Component Outputs](#3-component-outputs)
* [4. Component Properties](#4-component-properties)
* [5. `ngOnChanges` Lifecycle Hook](#5-ngonchanges-lifecycle-hook)
    * [5.1. `formatTimeAgo` Function Detail](#51-formattimeago-function-detail)
    * [5.2. `exportFirstSubCategory` Function Detail](#52-exportfirstsubcategory-function-detail)
* [6. Constructor](#6-constructor)


## 1. Overview

The `BigNewsCardComponent` is an Angular component responsible for displaying a news card with a prominent image and key information. It utilizes several input properties to dynamically render news data. The component leverages Angular's `DomSanitizer` to safely display images and uses helper functions (`formatTimeAgo`, `exportFirstSubCategory`) to format data for better presentation.  It's designed to be standalone and reusable across the application.


## 2. Component Inputs

| Input Property    | Type     | Description                                                                 |
|-----------------|----------|-----------------------------------------------------------------------------|
| `id`             | `number` | Unique identifier for the news item.                                         |
| `title`          | `string` | Title of the news item.                                                    |
| `categoryName`   | `string` | Category of the news item. Used by `exportFirstSubCategory` for sub-category extraction.|
| `publishedAt`    | `string` | Publication timestamp of the news item (likely ISO 8601 format). Used by `formatTimeAgo`. |
| `thumbnail`      | `string` | URL of the news item's thumbnail image.                                   |
| `imageSource`    | `string` | URL of the main news image (appears to be unused in the provided code).      |
| `color`          | `string` |  A color string (appears to be unused in the provided code).                |


## 3. Component Outputs

This component does not define any output properties.


## 4. Component Properties

| Property Name      | Type            | Description                                                              |
|----------------------|-----------------|--------------------------------------------------------------------------|
| `safeImageUrl`      | `SafeUrl`       | Sanitized URL for the thumbnail image, generated by `DomSanitizer`.       |
| `formattedTime`     | `string`        | Formatted time since publication, generated by `formatTimeAgo`.           |
| `firstSubCategory` | `string`        | The first sub-category extracted from `categoryName` using `exportFirstSubCategory`. |


## 5. `ngOnChanges` Lifecycle Hook

The `ngOnChanges` hook is used to react to changes in the component's input properties.  It updates the component's internal properties (`safeImageUrl`, `formattedTime`, `firstSubCategory`) whenever a relevant input changes.

### 5.1. `formatTimeAgo` Function Detail

The `formatTimeAgo` function (not shown in this code snippet, but imported from `../../../utils/helpers`) takes a timestamp (presumably in ISO 8601 format) as input and returns a human-readable string representing the time elapsed since that timestamp (e.g., "2 hours ago," "1 day ago").  The specific algorithm used within this function is not detailed here but is presumed to involve calculating the difference between the input timestamp and the current time and formatting the result appropriately.


### 5.2. `exportFirstSubCategory` Function Detail

The `exportFirstSubCategory` function (also not shown, but imported from `../../../utils/helpers`) takes a category name string as input and extracts the first sub-category from it.  The exact algorithm depends on the format of the `categoryName` string.  It likely involves splitting the string based on a delimiter (e.g., "/", ">", or a similar separator) and returning the first element of the resulting array.  For example, if `categoryName` is "News/Politics/Local", the function would likely return "News".  The specifics of the delimiter and error handling are not available from this code snippet.



## 6. Constructor

The constructor initializes the component by injecting the `DomSanitizer` service, which is used to safely render the thumbnail image URL.  This prevents potential cross-site scripting (XSS) vulnerabilities.
